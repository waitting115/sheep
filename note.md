43.143.173.84

token：用户每次点进来，拿着cid发给服务器，服务器通过cid去vx获取openid，将用户的openid + 时间戳 + ip地址使用cypto-js进行对称加密传输给浏览器，浏览器存储在localstore，每次请求中放到header中，服务器每次拿到token就通过秘钥进行解密，拿到信息先对比ip地址，如果一致，则通过校验，执行请求；如果不一致，返回登录过期，前端重新获取url里的cid来重新登录，如果登陆成功，则登陆成功，如果无法获取cid，则告知用户请重新从公众号进入，再给一个按钮点击直接进入。
IP地址策略：无需令牌过期时间，简化令牌管理，可减轻系统负担，增加安全性，不足之处在于用户切换网络时，令牌失效，需要重新登录，但用户一般不会频繁切换网络，因此影响不大。
检验一下cid是否每次都相同，如果不同，遵循什么规则



任务：
- 使用HOC实现部分页面底部渲染导航栏，HOC依然会渲染多个导航栏，可以通过获取当前路由来确定是否显示导航栏 
- 羊毛：0元购 9.9包邮 断码清仓 dui
- /etc/profile.d 目录下添加global.sh，
- 微信公众号配置底部功能栏 
- 券svg 拉长
- 获取用户剪贴板信息并搜索 
- 服务请求统一处理token：解密数据，获取openid + 随机数 + ip，校验ip，ip不同的话重新登录，校验成功将openid放到req中，进入请求处理
- 写一个shell文件，运行它会将很多数据放到全局变量中：mysql账号密码
- 创建数据表admin，字段：秘钥 初始化向量 vx_appid vx_appsecrect pdd_id pdd_secrect git_token等
- 用户信息sql表中增加是否为首次进入字段 isnew
- 使用redis进行数据缓存，提升数据获取速度
- 主线：前端开发 设计：
  - 首页：
    - 搜索栏 （点击跳转到搜索页）
    - 轮播图 - 各平台活动（点击进入各平台的活动页面即可）
    - 总榜单 - 所有平台前三名，结构：前五，横向滑动
      - 从左至右 1 2 3，左上角带标签
      - 大图
      - 平台logo + 一行标题
      - 券后价 + 券
    - tabBar - pdd jd tb
    - 榜单 - 前三名，结构同上 前五，横向滑动  
    - tabBar - 精选 + 其他
    - 商品卡片 * n  结构：
      - 大图
      - 标签 + ~
      - 平台logo + 2行标题
      - 券后价 + 原价 + 券
      - 店铺logo + 名称 + 销量
  - 详情页：
    - 左上角返回
    - 大图轮播
    - 平台logo + 标题
    - 券后价 + 原价 + 券
    - 店铺logo + 名称 + 销量
    - 标签：新史低、平史低、低于日常价、高于日常价、店铺销冠、店铺销量前三
    - 价格走势图（标明史低与当前价格点，以及日常价线， antv）
    - 底部固定栏： 降价提醒 + 复制口令 + 购买直达
- 提升：
  - 黑白主题
  - 商品筛选
  - 各个节日有各个节日的主图
  - 通用功能发npm包进行管理，方法：https://juejin.cn/post/7028790920027832334
    - 加密解密
    - request封装
  - 多个npm包使用lerna管理
  - 使用主动配置缓存来缓存必要的文件

